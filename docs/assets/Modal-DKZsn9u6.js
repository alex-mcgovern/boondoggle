import{h as x,a as m,b as S,$ as O,r as h,s as w,d as R,n as N,j as L}from"./utils-9Msfu4Q8.js";import{f as M,g as z,h as _,i as T,c as b,j,k as I}from"./Dialog-DfWb5CGM.js";import{c as y}from"./focusSafely-Cv_PksxV.js";import{r as l,R as c}from"./index-DVXBtNgz.js";import{a as k}from"./OverlayArrow-CgTapia-.js";var A={},P={};(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e="fas",n="xmark",a=384,t=512,d=[128473,10005,10006,10060,215,"close","multiply","remove","times"],r="f00d",s="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z";i.definition={prefix:e,iconName:n,icon:[a,t,d,r,s]},i.faXmark=i.definition,i.prefix=e,i.iconName=n,i.width=a,i.height=t,i.ligatures=d,i.unicode=r,i.svgPathData=s,i.aliases=d})(P);(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=P;i.definition={prefix:e.prefix,iconName:e.iconName,icon:[e.width,e.height,e.aliases,e.unicode,e.svgPathData]},i.faTimes=i.definition,i.prefix=e.prefix,i.iconName=e.iconName,i.width=e.width,i.height=e.height,i.ligatures=e.aliases,i.unicode=e.unicode,i.svgPathData=e.svgPathData,i.aliases=e.aliases})(A);let f=typeof document<"u"&&window.visualViewport;function B(){let i=x(),[e,n]=l.useState(()=>i?{width:0,height:0}:v());return l.useEffect(()=>{let a=()=>{n(t=>{let d=v();return d.width===t.width&&d.height===t.height?t:d})};return f?f.addEventListener("resize",a):window.addEventListener("resize",a),()=>{f?f.removeEventListener("resize",a):window.removeEventListener("resize",a)}},[]),e}function v(){return{width:f&&(f==null?void 0:f.width)||window.innerWidth,height:f&&(f==null?void 0:f.height)||window.innerHeight}}function U(i,e,n){let{overlayProps:a,underlayProps:t}=M({...i,isOpen:e.isOpen,onClose:e.close},n);return z({isDisabled:!e.isOpen}),_(),l.useEffect(()=>{if(e.isOpen)return T([n.current])},[e.isOpen,n]),{modalProps:m(a),underlayProps:t}}const K=l.createContext(null),g=l.createContext(null);function V(i,e){if(l.useContext(g))return c.createElement(E,{...i,modalRef:e},i.children);let{isDismissable:a,isKeyboardDismissDisabled:t,isOpen:d,defaultOpen:r,onOpenChange:s,children:$,isEntering:o,isExiting:u,UNSTABLE_portalContainer:C,shouldCloseOnInteractOutside:D,...p}=i;return c.createElement(X,{isDismissable:a,isKeyboardDismissDisabled:t,isOpen:d,defaultOpen:r,onOpenChange:s,isEntering:o,isExiting:u,UNSTABLE_portalContainer:C,shouldCloseOnInteractOutside:D},c.createElement(E,{...p,modalRef:e},$))}const Y=l.forwardRef(V);function W(i,e){[i,e]=S(i,e,K);let n=l.useContext(b),a=k(i),t=i.isOpen!=null||i.defaultOpen!=null||!n?a:n,d=O(e),r=l.useRef(null),s=h(d,t.isOpen),$=h(r,t.isOpen),o=s||$||i.isExiting||!1,u=x();return!t.isOpen&&!o||u?null:c.createElement(F,{...i,state:t,isExiting:o,overlayRef:d,modalRef:r})}const X=l.forwardRef(W);function F({UNSTABLE_portalContainer:i,...e}){let n=e.modalRef,{state:a}=e,{modalProps:t,underlayProps:d}=U(e,a,n),r=w(e.overlayRef)||e.isEntering||!1,s=R({...e,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:r,isExiting:e.isExiting,state:a}}),$=B(),o={...s.style,"--visual-viewport-height":$.height+"px"};return c.createElement(j,{isExiting:e.isExiting,portalContainer:i},c.createElement("div",{...m(y(e),d),...s,style:o,ref:e.overlayRef,"data-entering":r||void 0,"data-exiting":e.isExiting||void 0},c.createElement(N,{values:[[g,{modalProps:t,modalRef:n,isExiting:e.isExiting,isDismissable:e.isDismissable}],[b,a]]},s.children)))}function E(i){let{modalProps:e,modalRef:n,isExiting:a,isDismissable:t}=l.useContext(g),d=l.useContext(b),r=l.useMemo(()=>L(i.modalRef,n),[i.modalRef,n]),s=O(r),$=w(s),o=R({...i,defaultClassName:"react-aria-Modal",values:{isEntering:$,isExiting:a,state:d}});return c.createElement("div",{...m(y(i),e),...o,ref:s,"data-entering":$||void 0,"data-exiting":a||void 0},t&&c.createElement(I,{onDismiss:d.close}),o.children)}export{Y as $,X as a,A as f};
