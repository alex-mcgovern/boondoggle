import{j as b}from"./jsx-runtime-_e34SzbC.js";import{c as M}from"./clsx-B-dksMZM.js";import{r as h,R as F}from"./index-DVXBtNgz.js";import{a as R,c as O,b as S,p as k,o as L,d as _,n as G,$ as T,j as A,k as W}from"./utils-9Msfu4Q8.js";import{a as H}from"./FieldError-6qVdsCF3.js";import{$ as K}from"./Form-BnTBccM9.js";import{a as U}from"./Label-DrtTAq4E.js";import{a as z}from"./Text-BooAsC7s.js";import{c as B,b as J}from"./focusSafely-Cv_PksxV.js";import{b as Q,a as X,$ as Y}from"./useField-DNh-vrzn.js";import{$ as Z}from"./useControlledState-DO5k2rCg.js";import{$ as ee}from"./FocusScope-DN4figbQ.js";import{$ as ae}from"./context-COxT6_Ys.js";import{$ as ie}from"./useFormReset-DaKWb3cF.js";import{$ as de}from"./useFocusable-BlmBqszO.js";import{b as q,a as re,$ as le}from"./useFocusRing-DXKnJiZy.js";import{$ as te}from"./VisuallyHidden-bhCtNSx7.js";import{u as oe,a as se}from"./index.esm-L49qWB8P.js";import{F as ne}from"./index-BBQfozQw.js";import{L as ce}from"./index-zsSYQ7MO.js";import"./index-BAqkEV4U.js";import"./platform-Dv8lzYqa.js";import"./useLabels-ByG5rSy2.js";import"./openLink-D2-6eagY.js";const j=new WeakMap;function fe(e,a,d){let{value:r,children:l,"aria-label":n,"aria-labelledby":i}=e;const t=e.isDisabled||a.isDisabled;let c=l!=null,o=n!=null||i!=null;!c&&!o&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let s=a.selectedValue===r,$=w=>{w.stopPropagation(),a.setSelectedValue(r)},{pressProps:v,isPressed:P}=q({isDisabled:t}),{pressProps:p,isPressed:g}=q({isDisabled:t,onPress(){a.setSelectedValue(r)}}),{focusableProps:y}=de(R(e,{onFocus:()=>a.setLastFocusedValue(r)}),d),D=R(v,y),I=B(e,{labelable:!0}),V=-1;a.selectedValue!=null?a.selectedValue===r&&(V=0):(a.lastFocusedValue===r||a.lastFocusedValue==null)&&(V=0),t&&(V=void 0);let{name:m,descriptionId:f,errorMessageId:x,validationBehavior:u}=j.get(a);return ie(d,a.selectedValue,a.setSelectedValue),Q({validationBehavior:u},a,d),{labelProps:R(p,{onClick:w=>w.preventDefault()}),inputProps:R(I,{...D,type:"radio",name:m,tabIndex:V,disabled:t,required:a.isRequired&&u==="native",checked:s,value:r,onChange:$,"aria-describedby":[e["aria-describedby"],a.isInvalid?x:null,f].filter(Boolean).join(" ")||void 0}),isDisabled:t,isSelected:s,isPressed:P||g}}function ue(e,a){let{name:d,isReadOnly:r,isRequired:l,isDisabled:n,orientation:i="vertical",validationBehavior:t="aria"}=e,{direction:c}=ae(),{isInvalid:o,validationErrors:s,validationDetails:$}=a.displayValidation,{labelProps:v,fieldProps:P,descriptionProps:p,errorMessageProps:g}=X({...e,labelElementType:"span",isInvalid:a.isInvalid,errorMessage:e.errorMessage||s}),y=B(e,{labelable:!0}),{focusWithinProps:D}=J({onBlurWithin(m){var f;(f=e.onBlur)===null||f===void 0||f.call(e,m),a.selectedValue||a.setLastFocusedValue(null)},onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange}),I=m=>{let f;switch(m.key){case"ArrowRight":c==="rtl"&&i!=="vertical"?f="prev":f="next";break;case"ArrowLeft":c==="rtl"&&i!=="vertical"?f="next":f="prev";break;case"ArrowDown":f="next";break;case"ArrowUp":f="prev";break;default:return}m.preventDefault();let x=ee(m.currentTarget,{from:m.target}),u;f==="next"?(u=x.nextNode(),u||(x.currentNode=m.currentTarget,u=x.firstChild())):(u=x.previousNode(),u||(x.currentNode=m.currentTarget,u=x.lastChild())),u&&(u.focus(),a.setSelectedValue(u.value))},V=O(d);return j.set(a,{name:V,descriptionId:p.id,errorMessageId:g.id,validationBehavior:t}),{radioGroupProps:R(y,{role:"radiogroup",onKeyDown:I,"aria-invalid":a.isInvalid||void 0,"aria-errormessage":e["aria-errormessage"],"aria-readonly":r||void 0,"aria-required":l||void 0,"aria-disabled":n||void 0,"aria-orientation":i,...P,...D}),labelProps:v,descriptionProps:p,errorMessageProps:g,isInvalid:o,validationErrors:s,validationDetails:$}}let be=Math.round(Math.random()*1e10),$e=0;function ve(e){let a=h.useMemo(()=>e.name||`radio-group-${be}-${++$e}`,[e.name]);var d;let[r,l]=Z(e.value,(d=e.defaultValue)!==null&&d!==void 0?d:null,e.onChange),[n,i]=h.useState(null),t=Y({...e,value:r}),c=s=>{!e.isReadOnly&&!e.isDisabled&&(l(s),t.commitValidation())},o=t.displayValidation.isInvalid;return{...t,name:a,selectedValue:r,setSelectedValue:c,lastFocusedValue:n,setLastFocusedValue:i,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,validationState:e.validationState||(o?"invalid":null),isInvalid:o}}const me=h.createContext(null),pe=h.createContext(null),E=h.createContext(null);function xe(e,a){[e,a]=S(e,a,me);let{validationBehavior:d}=k(K)||{};var r,l;let n=(l=(r=e.validationBehavior)!==null&&r!==void 0?r:d)!==null&&l!==void 0?l:"native",i=ve({...e,validationBehavior:n}),[t,c]=L(),{radioGroupProps:o,labelProps:s,descriptionProps:$,errorMessageProps:v,...P}=ue({...e,label:c,validationBehavior:n},i),p=_({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"});return F.createElement("div",{...o,...p,ref:a,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},F.createElement(G,{values:[[E,i],[U,{...s,ref:t,elementType:"span"}],[z,{slots:{description:$,errorMessage:v}}],[H,P]]},p.children))}function he(e,a){let{inputRef:d=null,...r}=e;[e,a]=S(r,a,pe);let l=F.useContext(E),n=T(A(d,e.inputRef!==void 0?e.inputRef:null)),{labelProps:i,inputProps:t,isSelected:c,isDisabled:o,isPressed:s}=fe({...W(e),children:typeof e.children=="function"?!0:e.children},l,n),{isFocused:$,isFocusVisible:v,focusProps:P}=re(),p=o||l.isReadOnly,{hoverProps:g,isHovered:y}=le({...e,isDisabled:p}),D=_({...e,defaultClassName:"react-aria-Radio",values:{isSelected:c,isPressed:s,isHovered:y,isFocused:$,isFocusVisible:v,isDisabled:o,isReadOnly:l.isReadOnly,isInvalid:l.isInvalid,isRequired:l.isRequired}}),I=B(e);return delete I.id,F.createElement("label",{...R(I,i,g,D),ref:a,"data-selected":c||void 0,"data-pressed":s||void 0,"data-hovered":y||void 0,"data-focused":$||void 0,"data-focus-visible":v||void 0,"data-disabled":o||void 0,"data-readonly":l.isReadOnly||void 0,"data-invalid":l.isInvalid||void 0,"data-required":l.isRequired||void 0},F.createElement(te,{elementType:"span"},F.createElement("input",{...R(t,P),ref:n})),D.children)}const Pe=h.forwardRef(xe),Re=h.forwardRef(he);function ge(e){return b.jsx(Re,{...e,className:M(e.className,"radio-item")})}const N=h.forwardRef((e,a)=>b.jsx(Pe,{...e,className:M(e.className,"radio-group"),ref:a}));function ye({children:e,defaultValue:a,...d}){if(!d.name)throw new Error("FormTextField requires a name prop");const{control:r}=oe(),{field:{disabled:l,onChange:n,ref:i,value:t="",...c},fieldState:{error:o,invalid:s}}=se({control:r,defaultValue:d.value,disabled:d.isDisabled,name:d.name});return b.jsx(N,{...d,...c,defaultValue:a,isDisabled:l,isInvalid:s,onChange:$=>{var v;n($),(v=d.onChange)==null||v.call(d,$)},ref:i,value:t,children:()=>b.jsxs(b.Fragment,{children:[e,b.jsx(ne,{children:o==null?void 0:o.message})]})})}const C={FormGroup:ye,Group:N,RadioItem:ge};try{C.displayName="Radio",C.__docgenInfo={description:"A radio group allows a user to select a single item from a list of mutually exclusive options.",displayName:"Radio",props:{}}}catch{}const ze={args:{},component:C.Group,title:"Components/Radio"},Je={args:{children:b.jsxs(b.Fragment,{children:[b.jsx(ce,{children:"Favorite pet"}),b.jsx(C.RadioItem,{value:"dogs",children:"Dog"}),b.jsx(C.RadioItem,{value:"cats",children:"Cat"}),b.jsx(C.RadioItem,{value:"dragon",children:"Dragon"})]})}};export{Je as Default,ze as default};
