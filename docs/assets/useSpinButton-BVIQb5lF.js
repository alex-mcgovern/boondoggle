import{$ as xe,a as Ee}from"./LiveAnnouncer-AIgN_avV.js";import{r as w}from"./index-DVXBtNgz.js";import{d as Pe}from"./useFocusRing-ONODwrZO.js";import{f as B}from"./utils-DJbZa_IK.js";import{$ as De}from"./useLocalizedStringFormatter-JAxdz5_z.js";let T=new Map,A=!1;try{A=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let F=!1;try{F=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const j={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class we{format(e){let t="";if(!A&&this.options.signDisplay!=null?t=Fe(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!F){var r;let{unit:s,unitDisplay:a="short",locale:l}=this.resolvedOptions();if(!s)return t;let u=(r=j[s])===null||r===void 0?void 0:r[a];t+=u[l]||u.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),s=this.numberFormatter.formatToParts(t);return[...r.map(a=>({...a,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(a=>({...a,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!A&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!F&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=Se(e,t),this.options=t}}function Se(i,e={}){let{numberingSystem:t}=e;if(t&&i.includes("-nu-")&&(i.includes("-u-")||(i+="-u-"),i+=`-nu-${t}`),e.style==="unit"&&!F){var r;let{unit:l,unitDisplay:u="short"}=e;if(!l)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=j[l])===null||r===void 0)&&r[u]))throw new Error(`Unsupported unit ${l} with unitDisplay = ${u}`);e={...e,style:"decimal"}}let s=i+(e?Object.entries(e).sort((l,u)=>l[0]<u[0]?-1:1).join():"");if(T.has(s))return T.get(s);let a=new Intl.NumberFormat(i,e);return T.set(s,a),a}function Fe(i,e,t){if(e==="auto")return i.format(t);if(e==="never")return i.format(Math.abs(t));{let r=!1;if(e==="always"?r=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):r=t>0),r){let s=i.format(-t),a=i.format(t),l=s.replace(a,"").replace(/\u200e|\u061C/,"");return[...l].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),s.replace(a,"!!!").replace(l,"+").replace("!!!",a)}else return i.format(t)}}const Ne=new RegExp("^.*\\(.*\\).*$"),Re=["latn","arab","hanidec"];class Te{parse(e){return I(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,r){return I(this.locale,this.options,e).isValidPartialNumber(e,t,r)}getNumberingSystem(e){return I(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}}const C=new Map;function I(i,e,t){let r=_(i,e);if(!i.includes("-nu-")&&!r.isValidPartialNumber(t)){for(let s of Re)if(s!==r.options.numberingSystem){let a=_(i+(i.includes("-u-")?"-nu-":"-u-nu-")+s,e);if(a.isValidPartialNumber(t))return a}}return r}function _(i,e){let t=i+(e?Object.entries(e).sort((s,a)=>s[0]<a[0]?-1:1).join():""),r=C.get(t);return r||(r=new Ie(i,e),C.set(t,r)),r}class Ie{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=S(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=t.indexOf("-");t=t.replace("-","");let a=t.indexOf(".");a===-1&&(a=t.length),t=t.replace(".",""),a-2===0?t=`0.${t}`:a-2===-1?t=`0.0${t}`:a-2===-2?t="0.00":t=`${t.slice(0,a-2)}.${t.slice(a-2)}`,s>-1&&(t=`-${t}`)}let r=t?+t:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(this.options.minimumFractionDigits+2,20),maximumFractionDigits:Math.min(this.options.maximumFractionDigits+2,20)};return new Te(this.locale,s).parse(new we(this.locale,s).format(r))}return this.options.currencySign==="accounting"&&Ne.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=S(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=S(e,"."," ")),e}isValidPartialNumber(e,t=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=S(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=Ve(e,this.formatter,this.options,t);var r,s;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const M=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Ae=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Ve(i,e,t,r){var s,a,l,u;let y=new Intl.NumberFormat(i,{...t,minimumSignificantDigits:1,maximumSignificantDigits:21}),m=y.formatToParts(-10000.111),b=y.formatToParts(10000.111),c=Ae.map(o=>y.formatToParts(o));var p;let $=(p=(s=m.find(o=>o.type==="minusSign"))===null||s===void 0?void 0:s.value)!==null&&p!==void 0?p:"-",f=(a=b.find(o=>o.type==="plusSign"))===null||a===void 0?void 0:a.value;!f&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&(f="+");let d=(l=new Intl.NumberFormat(i,{...t,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(o=>o.type==="decimal"))===null||l===void 0?void 0:l.value,N=(u=m.find(o=>o.type==="group"))===null||u===void 0?void 0:u.value,g=m.filter(o=>!M.has(o.type)).map(o=>L(o.value)),v=c.flatMap(o=>o.filter(n=>!M.has(n.type)).map(n=>L(n.value))),h=[...new Set([...g,...v])].sort((o,n)=>n.length-o.length),x=h.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${h.join("|")}|[\\p{White_Space}]`,"gu"),E=[...new Intl.NumberFormat(t.locale,{useGrouping:!1}).format(9876543210)].reverse(),P=new Map(E.map((o,n)=>[o,n])),D=new RegExp(`[${E.join("")}]`,"g");return{minusSign:$,plusSign:f,decimal:d,group:N,literals:x,numeral:D,index:o=>String(P.get(o))}}function S(i,e,t){return i.replaceAll?i.replaceAll(e,t):i.split(e).join(t)}function L(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var z={};z={Empty:"فارغ"};var k={};k={Empty:"Изпразни"};var G={};G={Empty:"Prázdné"};var K={};K={Empty:"Tom"};var O={};O={Empty:"Leer"};var U={};U={Empty:"Άδειο"};var W={};W={Empty:"Empty"};var Z={};Z={Empty:"Vacío"};var q={};q={Empty:"Tühjenda"};var H={};H={Empty:"Tyhjä"};var J={};J={Empty:"Vide"};var Y={};Y={Empty:"ריק"};var X={};X={Empty:"Prazno"};var Q={};Q={Empty:"Üres"};var ee={};ee={Empty:"Vuoto"};var te={};te={Empty:"空"};var re={};re={Empty:"비어 있음"};var ie={};ie={Empty:"Tuščias"};var se={};se={Empty:"Tukšs"};var ae={};ae={Empty:"Tom"};var ne={};ne={Empty:"Leeg"};var oe={};oe={Empty:"Pusty"};var le={};le={Empty:"Vazio"};var ue={};ue={Empty:"Vazio"};var me={};me={Empty:"Gol"};var ce={};ce={Empty:"Не заполнено"};var pe={};pe={Empty:"Prázdne"};var fe={};fe={Empty:"Prazen"};var de={};de={Empty:"Prazno"};var be={};be={Empty:"Tomt"};var $e={};$e={Empty:"Boş"};var he={};he={Empty:"Пусто"};var ye={};ye={Empty:"空"};var ge={};ge={Empty:"空白"};var ve={};ve={"ar-AE":z,"bg-BG":k,"cs-CZ":G,"da-DK":K,"de-DE":O,"el-GR":U,"en-US":W,"es-ES":Z,"et-EE":q,"fi-FI":H,"fr-FR":J,"he-IL":Y,"hr-HR":X,"hu-HU":Q,"it-IT":ee,"ja-JP":te,"ko-KR":re,"lt-LT":ie,"lv-LV":se,"nb-NO":ae,"nl-NL":ne,"pl-PL":oe,"pt-BR":le,"pt-PT":ue,"ro-RO":me,"ru-RU":ce,"sk-SK":pe,"sl-SI":fe,"sr-SP":de,"sv-SE":be,"tr-TR":$e,"uk-UA":he,"zh-CN":ye,"zh-TW":ge};function Be(i){return i&&i.__esModule?i.default:i}function ze(i){const e=w.useRef();let{value:t,textValue:r,minValue:s,maxValue:a,isDisabled:l,isReadOnly:u,isRequired:y,onIncrement:m,onIncrementPage:b,onDecrement:c,onDecrementPage:p,onDecrementToMin:$,onIncrementToMax:f}=i;const V=De(Be(ve),"@react-aria/spinbutton"),d=()=>clearTimeout(e.current);w.useEffect(()=>()=>d(),[]);let N=n=>{if(!(n.ctrlKey||n.metaKey||n.shiftKey||n.altKey||u))switch(n.key){case"PageUp":if(b){n.preventDefault(),b==null||b();break}case"ArrowUp":case"Up":m&&(n.preventDefault(),m==null||m());break;case"PageDown":if(p){n.preventDefault(),p==null||p();break}case"ArrowDown":case"Down":c&&(n.preventDefault(),c==null||c());break;case"Home":$&&(n.preventDefault(),$==null||$());break;case"End":f&&(n.preventDefault(),f==null||f());break}},g=w.useRef(!1),v=()=>{g.current=!0},h=()=>{g.current=!1},x=r===""?V.format("Empty"):(r||`${t}`).replace("-","−");w.useEffect(()=>{g.current&&(xe("assertive"),Ee(x,"assertive"))},[x]);const E=B(n=>{d(),m==null||m(),e.current=window.setTimeout(()=>{(a===void 0||isNaN(a)||t===void 0||isNaN(t)||t<a)&&E(60)},n)}),P=B(n=>{d(),c==null||c(),e.current=window.setTimeout(()=>{(s===void 0||isNaN(s)||t===void 0||isNaN(t)||t>s)&&P(60)},n)});let D=n=>{n.preventDefault()},{addGlobalListener:R,removeAllGlobalListeners:o}=Pe();return{spinButtonProps:{role:"spinbutton","aria-valuenow":t!==void 0&&!isNaN(t)?t:void 0,"aria-valuetext":x,"aria-valuemin":s,"aria-valuemax":a,"aria-disabled":l||void 0,"aria-readonly":u||void 0,"aria-required":y||void 0,onKeyDown:N,onFocus:v,onBlur:h},incrementButtonProps:{onPressStart:()=>{E(400),R(window,"contextmenu",D)},onPressEnd:()=>{d(),o()},onFocus:v,onBlur:h},decrementButtonProps:{onPressStart:()=>{P(400),R(window,"contextmenu",D)},onPressEnd:()=>{d(),o()},onFocus:v,onBlur:h}}}export{we as $,ze as a,Te as b};
