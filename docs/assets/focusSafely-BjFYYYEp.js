import{c as x,f as C,h as W}from"./utils-DJbZa_IK.js";import{R as D,r as c}from"./index-DVXBtNgz.js";import{e as F,a as O,d as L}from"./platform-Dv8lzYqa.js";const m=e=>{var r;return(r=e==null?void 0:e.ownerDocument)!==null&&r!==void 0?r:document},l=e=>e&&"window"in e&&e.window===e?e:m(e).defaultView||window,I=new Set(["id"]),B=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),K=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),N=/^(data-.*)$/;function te(e,r={}){let{labelable:t,isLink:n,propNames:a}=r,i={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(I.has(o)||t&&B.has(o)||n&&K.has(o)||a!=null&&a.has(o)||N.test(o))&&(i[o]=e[o]);return i}let $=new Map,y=new Set;function T(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let r=n=>{if(!e(n)||!n.target)return;let a=$.get(n.target);a||(a=new Set,$.set(n.target,a),n.target.addEventListener("transitioncancel",t,{once:!0})),a.add(n.propertyName)},t=n=>{if(!e(n)||!n.target)return;let a=$.get(n.target);if(a&&(a.delete(n.propertyName),a.size===0&&(n.target.removeEventListener("transitioncancel",t),$.delete(n.target)),$.size===0)){for(let i of y)i();y.clear()}};document.body.addEventListener("transitionrun",r),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?T():document.addEventListener("DOMContentLoaded",T));function j(e){requestAnimationFrame(()=>{$.size===0?e():y.add(e)})}function ne(e,r){x(()=>{if(e&&e.ref&&r)return e.ref.current=r.current,()=>{e.ref&&(e.ref.current=null)}})}function R(e){return e.mozInputSource===0&&e.isTrusted?!0:F()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function re(e){return!F()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const A=D.createContext({register:()=>{}});A.displayName="PressResponderContext";class z{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(r,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=r}}function V(e){let r=c.useRef({isFocused:!1,observer:null});x(()=>{const n=r.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let t=C(n=>{e==null||e(n)});return c.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){r.current.isFocused=!0;let a=n.target,i=o=>{r.current.isFocused=!1,a.disabled&&t(new z("blur",o)),r.current.observer&&(r.current.observer.disconnect(),r.current.observer=null)};a.addEventListener("focusout",i,{once:!0}),r.current.observer=new MutationObserver(()=>{if(r.current.isFocused&&a.disabled){var o;(o=r.current.observer)===null||o===void 0||o.disconnect();let u=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),r.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let s=null,p=new Set,v=new Map,b=!1,w=!1;const G={Tab:!0,Escape:!0};function g(e,r){for(let t of p)t(e,r)}function U(e){return!(e.metaKey||!O()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function E(e){b=!0,U(e)&&(s="keyboard",g("keyboard",e))}function d(e){s="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(b=!0,g("pointer",e))}function M(e){R(e)&&(b=!0,s="virtual")}function k(e){e.target===window||e.target===document||(!b&&!w&&(s="virtual",g("virtual",e)),b=!1,w=!1)}function P(){b=!1,w=!0}function h(e){if(typeof window>"u"||v.get(l(e)))return;const r=l(e),t=m(e);let n=r.HTMLElement.prototype.focus;r.HTMLElement.prototype.focus=function(){b=!0,n.apply(this,arguments)},t.addEventListener("keydown",E,!0),t.addEventListener("keyup",E,!0),t.addEventListener("click",M,!0),r.addEventListener("focus",k,!0),r.addEventListener("blur",P,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",d,!0),t.addEventListener("pointermove",d,!0),t.addEventListener("pointerup",d,!0)):(t.addEventListener("mousedown",d,!0),t.addEventListener("mousemove",d,!0),t.addEventListener("mouseup",d,!0)),r.addEventListener("beforeunload",()=>{S(e)},{once:!0}),v.set(r,{focus:n})}const S=(e,r)=>{const t=l(e),n=m(e);r&&n.removeEventListener("DOMContentLoaded",r),v.has(t)&&(t.HTMLElement.prototype.focus=v.get(t).focus,n.removeEventListener("keydown",E,!0),n.removeEventListener("keyup",E,!0),n.removeEventListener("click",M,!0),t.removeEventListener("focus",k,!0),t.removeEventListener("blur",P,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",d,!0),n.removeEventListener("pointermove",d,!0),n.removeEventListener("pointerup",d,!0)):(n.removeEventListener("mousedown",d,!0),n.removeEventListener("mousemove",d,!0),n.removeEventListener("mouseup",d,!0)),v.delete(t))};function q(e){const r=m(e);let t;return r.readyState!=="loading"?h(e):(t=()=>{h(e)},r.addEventListener("DOMContentLoaded",t)),()=>S(e,t)}typeof document<"u"&&q();function Y(){return s!=="pointer"}function _(){return s}function ae(e){s=e,g(e,null)}function oe(){h();let[e,r]=c.useState(s);return c.useEffect(()=>{let t=()=>{r(s)};return p.add(t),()=>{p.delete(t)}},[]),W()?null:e}const J=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Q(e,r,t){var n;const a=typeof window<"u"?l(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?l(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?l(t==null?void 0:t.target).HTMLElement:HTMLElement,u=typeof window<"u"?l(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||(t==null?void 0:t.target)instanceof a&&!J.has(t==null||(n=t.target)===null||n===void 0?void 0:n.type)||(t==null?void 0:t.target)instanceof i||(t==null?void 0:t.target)instanceof o&&(t==null?void 0:t.target.isContentEditable),!(e&&r==="keyboard"&&t instanceof u&&!G[t.key])}function ie(e,r,t){h(),c.useEffect(()=>{let n=(a,i)=>{Q(!!(t!=null&&t.isTextInput),a,i)&&e(Y())};return p.add(n),()=>{p.delete(n)}},r)}function de(e){let{isDisabled:r,onBlurWithin:t,onFocusWithin:n,onFocusWithinChange:a}=e,i=c.useRef({isFocusWithin:!1}),o=c.useCallback(f=>{i.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(i.current.isFocusWithin=!1,t&&t(f),a&&a(!1))},[t,a,i]),u=V(o),H=c.useCallback(f=>{!i.current.isFocusWithin&&document.activeElement===f.target&&(n&&n(f),a&&a(!0),i.current.isFocusWithin=!0,u(f))},[n,a,u]);return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:H,onBlur:o}}}function se(e){const r=m(e);if(_()==="virtual"){let t=r.activeElement;j(()=>{r.activeElement===t&&e.isConnected&&L(e)})}else L(e)}export{de as $,A as a,ne as b,te as c,l as d,m as e,se as f,ae as g,Y as h,oe as i,_ as j,j as k,re as l,R as m,V as n,ie as o};
