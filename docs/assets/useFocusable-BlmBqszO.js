import{f as $,a as l}from"./focusSafely-Cv_PksxV.js";import{$ as p,a as u}from"./utils-9Msfu4Q8.js";import{R as d,r as f}from"./index-DVXBtNgz.js";import{c as P}from"./useFocusRing-DXKnJiZy.js";function s(e){if(!e)return;let t=!0;return r=>{let o={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(o),t&&r.stopPropagation()}}function x(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:s(e.onKeyDown),onKeyUp:s(e.onKeyUp)}}}let b=d.createContext(null);function v(e){let t=f.useContext(b)||{};l(t,e);let{ref:r,...o}=t;return o}function m(e,t){let{children:r,...o}=e,a=p(t),n={...o,ref:a};return d.createElement(b.Provider,{value:n},r)}let F=d.forwardRef(m);function w(e,t){let{focusProps:r}=P(e),{keyboardProps:o}=x(e),a=u(r,o),n=v(t),i=e.isDisabled?{}:n,c=f.useRef(e.autoFocus);return f.useEffect(()=>{c.current&&t.current&&$(t.current),c.current=!1},[t]),{focusableProps:u({...a,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},i)}}export{w as $,F as a,x as b};
