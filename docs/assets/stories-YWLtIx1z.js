import{j as n}from"./jsx-runtime-_e34SzbC.js";import{r as p,R as s}from"./index-DVXBtNgz.js";import{$ as b}from"./Input-COjRcM5I.js";import{c as w}from"./focusSafely-N6uhGZIJ.js";import{a as F}from"./utils-QLlwGfKe.js";import{$ as _}from"./PressResponder-BDsKhYT7.js";import{u as v,a as T}from"./index.esm-L49qWB8P.js";import{F as $}from"./index-CtECsIbV.js";import{B as S}from"./index-BZOG_DdU.js";function R(e,a){let{onSelect:t,acceptedFileTypes:l,allowsMultiple:i,defaultCamera:r,children:m,acceptDirectory:h,...y}=e,c=F(a),g=w(y);return s.createElement(s.Fragment,null,s.createElement(_,{onPress:()=>{var o,u;!((o=c.current)===null||o===void 0)&&o.value&&(c.current.value=""),(u=c.current)===null||u===void 0||u.click()}},m),s.createElement(b,{...g,type:"file",ref:c,style:{display:"none"},accept:l==null?void 0:l.toString(),onChange:o=>t==null?void 0:t(o.target.files),capture:r,multiple:i,webkitdirectory:h?"":void 0}))}const q=p.forwardRef(R),d=p.forwardRef((e,a)=>n.jsx(q,{...e,ref:a,children:e.children}));function f(e){const{control:a}=v(),{field:{onChange:t,ref:l},fieldState:{error:i}}=T({control:a,name:e.name});return n.jsxs(n.Fragment,{children:[n.jsx(d,{...e,onSelect:r=>{e.onSelect&&e.onSelect(r),t(r==null?void 0:r.item(0))},ref:l}),n.jsx($,{children:i==null?void 0:i.message})]})}try{f.displayName="FormFileTrigger",f.__docgenInfo={description:"",displayName:"FormFileTrigger",props:{acceptedFileTypes:{defaultValue:null,description:"Specifies what mime type of files are allowed.",name:"acceptedFileTypes",required:!1,type:{name:"string[]"}},allowsMultiple:{defaultValue:null,description:"Whether multiple files can be selected.",name:"allowsMultiple",required:!1,type:{name:"boolean"}},defaultCamera:{defaultValue:null,description:"Specifies the use of a media capture mechanism to capture the media on the spot.",name:"defaultCamera",required:!1,type:{name:'"user" | "environment"'}},onSelect:{defaultValue:null,description:"Handler when a user selects a file.",name:"onSelect",required:!1,type:{name:"(files: FileList) => void"}},children:{defaultValue:null,description:"The children of the component.",name:"children",required:!1,type:{name:"ReactNode"}},acceptDirectory:{defaultValue:null,description:"Enables the selection of directories instead of individual files.",name:"acceptDirectory",required:!1,type:{name:"boolean"}},ref:{defaultValue:null,description:"Allows getting a ref to the component instance.\nOnce the component unmounts, React will set `ref.current` to `null`\n(or call the ref with `null` if you passed a callback ref).\n@see {@link https://react.dev/learn/referencing-values-with-refs#refs-and-the-dom React Docs}",name:"ref",required:!1,type:{name:"LegacyRef<HTMLInputElement>"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"Key"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}try{d.displayName="FileTrigger",d.__docgenInfo={description:"A FileTrigger allows a user to access the file system with any pressable React Aria or React Spectrum component, or custom components built with usePress.",displayName:"FileTrigger",props:{acceptedFileTypes:{defaultValue:null,description:"Specifies what mime type of files are allowed.",name:"acceptedFileTypes",required:!1,type:{name:"string[]"}},allowsMultiple:{defaultValue:null,description:"Whether multiple files can be selected.",name:"allowsMultiple",required:!1,type:{name:"boolean"}},defaultCamera:{defaultValue:null,description:"Specifies the use of a media capture mechanism to capture the media on the spot.",name:"defaultCamera",required:!1,type:{name:'"user" | "environment"'}},onSelect:{defaultValue:null,description:"Handler when a user selects a file.",name:"onSelect",required:!1,type:{name:"(files: FileList) => void"}},children:{defaultValue:null,description:"The children of the component.",name:"children",required:!1,type:{name:"ReactNode"}},acceptDirectory:{defaultValue:null,description:"Enables the selection of directories instead of individual files.",name:"acceptDirectory",required:!1,type:{name:"boolean"}},ref:{defaultValue:null,description:"Allows getting a ref to the component instance.\nOnce the component unmounts, React will set `ref.current` to `null`\n(or call the ref with `null` if you passed a callback ref).\n@see {@link https://react.dev/learn/referencing-values-with-refs#refs-and-the-dom React Docs}",name:"ref",required:!1,type:{name:"LegacyRef<HTMLInputElement>"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"Key"}}}}}catch{}const V={component:d,title:"Components/FileTrigger"},x={args:{children:n.jsx(S,{children:"Choose a file"}),onSelect:e=>{const t=(e?Array.from(e):[]).map(l=>l.name);alert(t.join(", "))}}},H=Object.freeze(Object.defineProperty({__proto__:null,Default:x,default:V},Symbol.toStringTag,{value:"Module"}));export{x as D,d as F,H as s};
